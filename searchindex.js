Search.setIndex({"docnames": ["api", "api/alias", "api/eos", "api/root", "api/root/io", "api/root/tree", "guide", "guide/howto", "guide/performance", "guide/performance/awkward", "guide/performance/root_io", "index"], "filenames": ["api.rst", "api/alias.rst", "api/eos.rst", "api/root.rst", "api/root/io.rst", "api/root/tree.rst", "guide.rst", "guide/howto.rst", "guide/performance.rst", "guide/performance/awkward.rst", "guide/performance/root_io.rst", "index.rst"], "titles": ["API reference", "Type Alias", "EOS", "ROOT", "Basic I/O", "Tree", "User guide", "How-to", "Performance", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">awkward</span></code>", "ROOT I/O", "HEP tools"], "terms": {"type": [0, 4, 5], "alia": 0, "recordlik": [0, 1, 4, 5], "delayedrecordlik": [0, 1, 4, 5], "pathlik": [0, 1, 4, 5], "eo": [0, 1, 5], "root": [0, 1, 4, 5], "heptool": [1, 2, 4, 5], "io": [1, 4], "sourc": [1, 2, 4, 5], "A": [1, 4, 5], "map": [1, 5], "from": [1, 4, 5], "string": 1, "arrai": [1, 4, 5], "like": [1, 5], "object": [1, 4, 5], "all": [1, 4, 5], "must": [1, 4], "have": 1, "same": [1, 4, 5, 9], "length": [1, 4], "ak": [1, 4, 5, 9], "panda": [1, 3, 4], "datafram": [1, 4], "dict": [1, 4, 5], "str": [1, 4, 5], "numpi": [1, 4], "ndarrai": [1, 4], "delai": [1, 4, 5], "partit": [1, 4, 5], "dask_awkward": 1, "dask": [1, 5], "system": [1, 2], "path": [1, 2, 4, 5], "__fspath__": 1, "method": [1, 5], "o": [1, 2, 3], "an": 2, "interfac": [2, 5], "oper": [2, 9], "both": [2, 4], "local": [2, 4], "filesystem": 2, "other": 2, "xrootd": [2, 4], "support": [2, 4], "consid": [2, 4, 9], "migrat": [2, 4], "shutil": 2, "client": 2, "us": [2, 4, 5, 9], "normpath": 2, "glob": 2, "class": [2, 4, 5], "url": 2, "high": 3, "level": 3, "tool": [3, 5], "file": [3, 4, 5], "i": [3, 5, 9], "built": 3, "top": 3, "uproot": [3, 4], "import": 3, "unless": 3, "necessari": 3, "base": [4, 5], "read": [4, 5], "open": 4, "_dask": 4, "write": [4, 5], "writabl": 4, "recreat": 4, "reader": 4, "follow": [4, 5, 8, 9], "default": [4, 5], "option": [4, 5], "object_cach": 4, "none": [4, 5], "array_cach": 4, "open_fil": 4, "fals": [4, 5], "timeout": 4, "180": 4, "writer": 4, "alwai": 4, "overwrit": [4, 5], "output": [4, 5], "exist": [4, 5], "fsspec": 4, "treewrit": [4, 5], "name": [4, 5], "event": [4, 5], "parent": [4, 5], "true": [4, 5], "basket_s": 4, "remot": 4, "tbasket": 4, "size": [4, 5, 9], "control": 4, "paramet": [4, 5], "tree": 4, "bool": [4, 5], "creat": [4, 5], "directori": 4, "int": [4, 5], "If": [4, 5, 9], "given": [4, 5, 9], "new": [4, 5], "each": [4, 5, 9], "extend": 4, "call": 4, "addit": [4, 5], "pass": [4, 5], "chunk": [4, 5], "__call__": 4, "set": [4, 5], "return": [4, 5], "self": [4, 5], "__enter__": 4, "temporari": 4, "__exit__": 4, "exc": 4, "except": [4, 5, 9], "rais": 4, "move": 4, "store": [4, 5], "inform": 4, "data": [4, 5, 9], "writabletre": 4, "treeread": [4, 5], "filter": [4, 5], "transform": 4, "callabl": [4, 5], "function": [4, 5], "select": [4, 5, 9], "branch": [4, 5], "after": [4, 5], "appli": 4, "librari": [4, 5, 8], "liter": [4, 5], "np": [4, 5, 9], "pd": [4, 5], "The": [4, 5], "repres": [4, 5], "behavior": 4, "tbranch": [4, 5], "hasbranch": 4, "concat": [4, 5], "one": [4, 5], "add": [4, 5, 9], "multiprocess": 4, "tupl": [4, 5], "One": [4, 5], "more": [4, 5], "concaten": [4, 5], "iter": [4, 5], "step": [4, 5], "mode": [4, 5], "over": [4, 5], "number": [4, 5], "entri": [4, 5], "ignor": [4, 5], "balanc": [4, 5], "gener": [4, 5], "guarante": [4, 5], "need": 4, "last": [4, 5], "yield": [4, 5], "split": [4, 5], "smaller": [4, 5], "target": [4, 5], "merg": [4, 5], "resiz": [4, 5], "chunk_siz": [4, 5], "writer_opt": [4, 5], "reader_opt": [4, 5], "clean": 4, "list": [4, 5], "num_entri": 5, "entry_start": 5, "entry_stop": 5, "fetch": 5, "ttree": 5, "uuid": 5, "start": [5, 9], "0": 5, "stop": 5, "miss": 5, "metadata": 5, "immedi": 5, "initi": 5, "note": 5, "special": 5, "ar": [5, 9], "implement": 5, "__hash__": 5, "__eq__": 5, "__len__": 5, "__repr__": 5, "frozenset": 5, "properti": 5, "offset": 5, "equal": 5, "integr": 5, "logger": 5, "check": 5, "report": 5, "differ": 5, "out": 5, "rang": 5, "issu": [5, 8], "can": [5, 9], "ani": 5, "deep": 5, "copi": [5, 9], "correct": 5, "deepcopi": 5, "kwarg": 5, "overrid": 5, "slice": 5, "classmethod": 5, "from_path": 5, "n_process": 5, "parallel": 5, "process": 5, "common": 5, "find": 5, "onli": [5, 9], "common_branch": 5, "group": 5, "sum": 5, "order": 5, "preserv": 5, "kept": 5, "total": 5, "piec": 5, "possibl": 5, "try": 5, "anoth": [5, 9], "minim": 5, "averag": 5, "deviat": 5, "about": [5, 9], "to_json": 5, "convert": 5, "json": 5, "from_json": 5, "from_coffea_ev": 5, "when": 5, "coffea": 5, "7": 5, "22": 5, "processor": 5, "runner": 5, "from_coffea_dataset": 5, "dataset": 5, "2023": 5, "12": 5, "dataset_tool": 5, "preprocess": 5, "chain": 5, "friend": 5, "manag": 5, "collect": 5, "addtion": 5, "separ": 5, "also": [5, 9], "known": 5, "__iadd__": 5, "__add__": 5, "ad": 5, "dump": 5, "base_path": 5, "_": 5, "memori": 5, "format": 5, "see": 5, "below": 5, "detail": 5, "kei": 5, "correspond": 5, "avail": 5, "path0": 5, "path1": 5, "part": 5, "without": 5, "suffix": 5, "revers": 5, "where": 5, "In": 5, "case": [5, 9], "uniqu": 5, "multipl": 5, "previou": 5, "ones": [5, 9], "exampl": [5, 9], "work": [5, 9], "test": 5, "host": 5, "1": [5, 9], "b": 5, "c": 5, "100": 5, "200": 5, "test_target_uuid_events_100_200": 5, "2": 5, "x": [5, 9], "y": [5, 9], "z": 5, "test_uuid_100_200": 5, "path2": 5, "tar_events_100_200": 5, "def": 5, "filenam": 5, "f": 5, "3": 5, "lower": 5, "reset": 5, "confirm": 5, "delet": [5, 9], "contigu": 5, "singl": 5, "clone": 5, "locat": 5, "origin": [5, 9], "mismatch": 5, "gap": 5, "overlap": 5, "between": 5, "thi": 5, "veri": [5, 9], "expens": [5, 9], "larg": 5, "shallow": 5, "tchain": 5, "structur": [5, 9], "record": [5, 9], "pseudo": 5, "code": 5, "main": 5, "add_chunk": 5, "add_friend": 5, "renam": 5, "how": [6, 11], "perform": [6, 11], "These": 8, "document": 8, "describ": 8, "potenti": 8, "best": 8, "practic": 8, "view": 9, "layout": 9, "let": 9, "": 9, "simpl": 9, "100_000": 9, "zip": 9, "dtype": 9, "int64": 9, "zero": 9, "most": 9, "wrap": 9, "layer": 9, "instead": 9, "make": 9, "some": 9, "For": 9, "random": 9, "choic": 9, "10": 9, "nbyte": 9, "3200080": 9, "But": 9, "actual": 9, "6mb": 9, "thei": 9, "share": 9, "content": 9, "instanc": 9, "hold": 9, "refer": 9, "execut": 9, "del": 9, "gc": 9, "releas": 9, "until": 9, "todo": 9}, "objects": {"heptools": [[3, 0, 0, "-", "root"]], "heptools.root.chain": [[5, 1, 1, "", "Chain"], [5, 1, 1, "", "Friend"]], "heptools.root.chain.Chain": [[5, 2, 1, "", "add_chunk"], [5, 2, 1, "", "add_friend"], [5, 2, 1, "", "copy"], [5, 2, 1, "", "dask"], [5, 2, 1, "", "iterate"]], "heptools.root.chain.Friend": [[5, 2, 1, "", "add"], [5, 2, 1, "", "arrays"], [5, 2, 1, "", "clone"], [5, 2, 1, "", "concat"], [5, 2, 1, "", "copy"], [5, 2, 1, "", "dask"], [5, 2, 1, "", "dump"], [5, 2, 1, "", "from_json"], [5, 2, 1, "", "integrity"], [5, 2, 1, "", "merge"], [5, 3, 1, "", "name"], [5, 2, 1, "", "reset"], [5, 2, 1, "", "to_json"]], "heptools.root.chunk": [[5, 1, 1, "", "Chunk"]], "heptools.root.chunk.Chunk": [[5, 2, 1, "", "balance"], [5, 3, 1, "", "branches"], [5, 2, 1, "", "common"], [5, 2, 1, "", "deepcopy"], [5, 4, 1, "", "entry_start"], [5, 4, 1, "", "entry_stop"], [5, 2, 1, "", "from_coffea_datasets"], [5, 2, 1, "", "from_coffea_events"], [5, 2, 1, "", "from_json"], [5, 2, 1, "", "from_path"], [5, 2, 1, "", "integrity"], [5, 3, 1, "", "name"], [5, 3, 1, "", "num_entries"], [5, 4, 1, "", "offset"], [5, 2, 1, "", "partition"], [5, 3, 1, "", "path"], [5, 2, 1, "", "slice"], [5, 2, 1, "", "to_json"], [5, 3, 1, "", "uuid"]], "heptools.root": [[4, 0, 0, "-", "io"]], "heptools.root.io": [[1, 5, 1, "", "DelayedRecordLike"], [1, 5, 1, "", "RecordLike"], [4, 1, 1, "", "TreeReader"], [4, 1, 1, "", "TreeWriter"]], "heptools.root.io.TreeReader": [[4, 2, 1, "", "arrays"], [4, 2, 1, "", "concat"], [4, 2, 1, "", "dask"], [4, 2, 1, "", "iterate"]], "heptools.root.io.TreeWriter": [[4, 2, 1, "", "__call__"], [4, 2, 1, "", "__enter__"], [4, 2, 1, "", "__exit__"], [4, 2, 1, "", "extend"], [4, 3, 1, "", "tree"]], "heptools.root.merge": [[4, 6, 1, "", "clean"], [4, 6, 1, "", "merge"], [4, 6, 1, "", "resize"]], "heptools.system": [[2, 0, 0, "-", "eos"]], "heptools.system.eos": [[2, 1, 1, "", "EOS"], [1, 5, 1, "", "PathLike"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:attribute", "4": "py:property", "5": "py:data", "6": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "attribute", "Python attribute"], "4": ["py", "property", "Python property"], "5": ["py", "data", "Python data"], "6": ["py", "function", "Python function"]}, "titleterms": {"api": [0, 11], "refer": [0, 11], "type": 1, "alia": 1, "eo": 2, "todo": [2, 4], "root": [3, 10], "basic": 4, "i": [4, 10], "o": [4, 10], "ttree": 4, "dask": 4, "tree": 5, "user": [6, 11], "guid": [6, 11], "how": 7, "perform": 8, "awkward": 9, "memori": 9, "usag": 9, "count": 9, "multipl": 9, "arrai": 9, "garbag": 9, "collect": 9, "concaten": 9, "scale": 10, "hep": 11, "tool": 11, "exampl": 11}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx.ext.todo": 2, "sphinx": 60}, "alltitles": {"API reference": [[0, "api-reference"], [11, "api-reference"]], "Type Alias": [[1, "type-alias"]], "EOS": [[2, "module-heptools.system.eos"]], "Todo": [[2, "id1"], [4, "id1"], [4, "id2"]], "ROOT": [[3, "module-heptools.root"]], "Basic I/O": [[4, "module-heptools.root.io"]], "TTree": [[4, "ttree"]], "dask": [[4, "dask"]], "Tree": [[5, "tree"]], "User guide": [[6, "user-guide"], [11, "user-guide"]], "How-to": [[7, "how-to"]], "Performance": [[8, "performance"]], "awkward": [[9, "awkward"]], "Memory Usage": [[9, "memory-usage"]], "Counting Memory for Multiple Arrays": [[9, "counting-memory-for-multiple-arrays"]], "Garbage Collection": [[9, "garbage-collection"]], "Concatenate": [[9, "concatenate"]], "ROOT I/O": [[10, "root-i-o"]], "Scale": [[10, "scale"]], "HEP tools": [[11, "hep-tools"]], "Examples": [[11, "examples"]]}, "indexentries": {"delayedrecordlike (in module heptools.root.io)": [[1, "heptools.root.io.DelayedRecordLike"]], "pathlike (in module heptools.system.eos)": [[1, "heptools.system.eos.PathLike"]], "recordlike (in module heptools.root.io)": [[1, "heptools.root.io.RecordLike"]], "eos (class in heptools.system.eos)": [[2, "heptools.system.eos.EOS"]], "heptools.system.eos": [[2, "module-heptools.system.eos"]], "module": [[2, "module-heptools.system.eos"], [3, "module-heptools.root"], [4, "module-heptools.root.io"]], "heptools.root": [[3, "module-heptools.root"]], "treereader (class in heptools.root.io)": [[4, "heptools.root.io.TreeReader"]], "treewriter (class in heptools.root.io)": [[4, "heptools.root.io.TreeWriter"]], "__call__() (heptools.root.io.treewriter method)": [[4, "heptools.root.io.TreeWriter.__call__"]], "__enter__() (heptools.root.io.treewriter method)": [[4, "heptools.root.io.TreeWriter.__enter__"]], "__exit__() (heptools.root.io.treewriter method)": [[4, "heptools.root.io.TreeWriter.__exit__"]], "arrays() (heptools.root.io.treereader method)": [[4, "heptools.root.io.TreeReader.arrays"]], "clean() (in module heptools.root.merge)": [[4, "heptools.root.merge.clean"]], "concat() (heptools.root.io.treereader method)": [[4, "heptools.root.io.TreeReader.concat"]], "dask() (heptools.root.io.treereader method)": [[4, "heptools.root.io.TreeReader.dask"]], "extend() (heptools.root.io.treewriter method)": [[4, "heptools.root.io.TreeWriter.extend"]], "heptools.root.io": [[4, "module-heptools.root.io"]], "iterate() (heptools.root.io.treereader method)": [[4, "heptools.root.io.TreeReader.iterate"]], "merge() (in module heptools.root.merge)": [[4, "heptools.root.merge.merge"]], "resize() (in module heptools.root.merge)": [[4, "heptools.root.merge.resize"]], "tree (heptools.root.io.treewriter attribute)": [[4, "heptools.root.io.TreeWriter.tree"]], "chain (class in heptools.root.chain)": [[5, "heptools.root.chain.Chain"]], "chunk (class in heptools.root.chunk)": [[5, "heptools.root.chunk.Chunk"]], "friend (class in heptools.root.chain)": [[5, "heptools.root.chain.Friend"]], "add() (heptools.root.chain.friend method)": [[5, "heptools.root.chain.Friend.add"]], "add_chunk() (heptools.root.chain.chain method)": [[5, "heptools.root.chain.Chain.add_chunk"]], "add_friend() (heptools.root.chain.chain method)": [[5, "heptools.root.chain.Chain.add_friend"]], "arrays() (heptools.root.chain.friend method)": [[5, "heptools.root.chain.Friend.arrays"]], "balance() (heptools.root.chunk.chunk class method)": [[5, "heptools.root.chunk.Chunk.balance"]], "branches (heptools.root.chunk.chunk attribute)": [[5, "heptools.root.chunk.Chunk.branches"]], "clone() (heptools.root.chain.friend method)": [[5, "heptools.root.chain.Friend.clone"]], "common() (heptools.root.chunk.chunk class method)": [[5, "heptools.root.chunk.Chunk.common"]], "concat() (heptools.root.chain.friend method)": [[5, "heptools.root.chain.Friend.concat"]], "copy() (heptools.root.chain.chain method)": [[5, "heptools.root.chain.Chain.copy"]], "copy() (heptools.root.chain.friend method)": [[5, "heptools.root.chain.Friend.copy"]], "dask() (heptools.root.chain.chain method)": [[5, "heptools.root.chain.Chain.dask"]], "dask() (heptools.root.chain.friend method)": [[5, "heptools.root.chain.Friend.dask"]], "deepcopy() (heptools.root.chunk.chunk method)": [[5, "heptools.root.chunk.Chunk.deepcopy"]], "dump() (heptools.root.chain.friend method)": [[5, "heptools.root.chain.Friend.dump"]], "entry_start (heptools.root.chunk.chunk property)": [[5, "heptools.root.chunk.Chunk.entry_start"]], "entry_stop (heptools.root.chunk.chunk property)": [[5, "heptools.root.chunk.Chunk.entry_stop"]], "from_coffea_datasets() (heptools.root.chunk.chunk class method)": [[5, "heptools.root.chunk.Chunk.from_coffea_datasets"]], "from_coffea_events() (heptools.root.chunk.chunk class method)": [[5, "heptools.root.chunk.Chunk.from_coffea_events"]], "from_json() (heptools.root.chain.friend class method)": [[5, "heptools.root.chain.Friend.from_json"]], "from_json() (heptools.root.chunk.chunk class method)": [[5, "heptools.root.chunk.Chunk.from_json"]], "from_path() (heptools.root.chunk.chunk class method)": [[5, "heptools.root.chunk.Chunk.from_path"]], "integrity() (heptools.root.chain.friend method)": [[5, "heptools.root.chain.Friend.integrity"]], "integrity() (heptools.root.chunk.chunk method)": [[5, "heptools.root.chunk.Chunk.integrity"]], "iterate() (heptools.root.chain.chain method)": [[5, "heptools.root.chain.Chain.iterate"]], "merge() (heptools.root.chain.friend method)": [[5, "heptools.root.chain.Friend.merge"]], "name (heptools.root.chain.friend attribute)": [[5, "heptools.root.chain.Friend.name"]], "name (heptools.root.chunk.chunk attribute)": [[5, "heptools.root.chunk.Chunk.name"]], "num_entries (heptools.root.chunk.chunk attribute)": [[5, "heptools.root.chunk.Chunk.num_entries"]], "offset (heptools.root.chunk.chunk property)": [[5, "heptools.root.chunk.Chunk.offset"]], "partition() (heptools.root.chunk.chunk class method)": [[5, "heptools.root.chunk.Chunk.partition"]], "path (heptools.root.chunk.chunk attribute)": [[5, "heptools.root.chunk.Chunk.path"]], "reset() (heptools.root.chain.friend method)": [[5, "heptools.root.chain.Friend.reset"]], "slice() (heptools.root.chunk.chunk method)": [[5, "heptools.root.chunk.Chunk.slice"]], "to_json() (heptools.root.chain.friend method)": [[5, "heptools.root.chain.Friend.to_json"]], "to_json() (heptools.root.chunk.chunk method)": [[5, "heptools.root.chunk.Chunk.to_json"]], "uuid (heptools.root.chunk.chunk attribute)": [[5, "heptools.root.chunk.Chunk.uuid"]]}})